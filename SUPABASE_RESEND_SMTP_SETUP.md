# ğŸ“§ Supabase é…ç½® Resend SMTP è¯¦ç»†æ•™ç¨‹

ä½¿ç”¨ Resend ä½œä¸º Supabase çš„é‚®ä»¶å‘é€æœåŠ¡æ˜¯è§£å†³å›½å†…æ”¶ä¿¡é—®é¢˜çš„æœ€ä½³æ–¹æ¡ˆä¹‹ä¸€ã€‚Resend æ¯æœˆæä¾› 3000 å°å…è´¹é¢åº¦ï¼Œä¸”é…ç½®ç®€å•ï¼Œé€è¾¾ç‡é«˜ã€‚

## ç¬¬ä¸€æ­¥ï¼šè·å– Resend API Key

1.  è®¿é—® [Resend å®˜ç½‘ (resend.com)](https://resend.com) å¹¶æ³¨å†Œè´¦å·ã€‚
2.  ç™»å½•åï¼Œç‚¹å‡»å·¦ä¾§èœå•çš„ **API Keys**ã€‚
3.  ç‚¹å‡» **Create API Key**ã€‚
4.  Name éšä¾¿å¡«ï¼ˆä¾‹å¦‚ "Supabase"ï¼‰ï¼ŒPermission é€‰æ‹© **Full access** æˆ– **Sending access**ã€‚
5.  ç‚¹å‡» **Add**ï¼Œç„¶å**å¤åˆ¶ä»¥ `re_` å¼€å¤´çš„ API Key**ã€‚
    *   *æ³¨æ„ï¼šè¿™ä¸ª Key åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·ä¿å­˜å¥½ï¼Œå®ƒå°†ä½œä¸º SMTP çš„å¯†ç ã€‚*

## ç¬¬äºŒæ­¥ï¼šé…ç½®å‘ä»¶åŸŸå (å¼ºçƒˆæ¨è)

### â“ åŸŸåé€‰æ‹©å¸¸è§é—®é¢˜
*   **Q: éœ€è¦å•ç‹¬ä¹°ä¸€ä¸ªæ–°åŸŸåå—ï¼Ÿ**
    *   **A: ä¸éœ€è¦ã€‚** æ‚¨å®Œå…¨å¯ä»¥ä½¿ç”¨ç°æœ‰çš„ä¸»ç«™åŸŸåã€‚
*   **Q: å¿…é¡»å’Œä¸»ç«™åŸŸåä¸€æ¨¡ä¸€æ ·å—ï¼Ÿ**
    *   **A: æ¨èä½¿ç”¨å­åŸŸåã€‚**
    *   **æœ€ä½³å®è·µ**: å¦‚æœæ‚¨çš„ä¸»ç«™æ˜¯ `example.com`ï¼Œå»ºè®®åœ¨ Resend ä¸­æ·»åŠ  `mail.example.com` æˆ– `auth.example.com`ã€‚
    *   **åŸå› **:
        1.  **ä¸å½±å“ä¸»ç«™**: é‚®ä»¶æœåŠ¡çš„ DNS è®°å½•ï¼ˆMX, SPF, DKIMï¼‰éå¸¸å¤šï¼Œä½¿ç”¨å­åŸŸåå¯ä»¥ä¿æŒä¸»åŸŸå DNS çš„æ•´æ´ã€‚
        2.  **ä¿¡èª‰éš”ç¦»**: å¦‚æœé‚®ä»¶åŸŸåå› ä¸ºæŸç§åŸå› è¢«æ ‡è®°ä¸ºåƒåœ¾é‚®ä»¶ï¼Œä¸ä¼šå½±å“ä¸»åŸŸåçš„ SEO å’Œæ­£å¸¸è®¿é—®ã€‚
        3.  **é…ç½®ç®€å•**: æ‚¨åªéœ€è¦åœ¨ç°æœ‰çš„åŸŸåç®¡ç†åå°ï¼ˆé˜¿é‡Œäº‘/è…¾è®¯äº‘ç­‰ï¼‰æ·»åŠ å‡ æ¡è®°å½•å³å¯ã€‚

### ğŸš€ åœ¨ Spaceship ä¸­é…ç½®å­åŸŸå (å®æˆ˜æŒ‡å—)
åœ¨ Spaceship ä¸­ï¼Œæ‚¨**ä¸éœ€è¦**ä¸“é—¨å»â€œè´­ä¹°â€æˆ–â€œåˆ›å»ºâ€ä¸€ä¸ªå­åŸŸåã€‚æ‚¨åªéœ€è¦åœ¨ä¸»åŸŸåçš„ DNS è®¾ç½®ä¸­æ·»åŠ ç‰¹å®šçš„è®°å½•ï¼ŒHost å¡«å†™å‰ç¼€å³å¯ã€‚

å‡è®¾æ‚¨çš„ä¸»åŸŸåæ˜¯ `example.com`ï¼Œæ‚¨æƒ³åœ¨ Resend ä½¿ç”¨ `mail.example.com`ï¼š

1.  **åœ¨ Resend è·å–è®°å½•**:
    *   åœ¨ Resend åå°æ·»åŠ åŸŸå `mail.example.com`ã€‚
    *   Resend ä¼šæ˜¾ç¤ºä¸€ç»„è®°å½•ï¼ˆMX, TXTï¼‰ã€‚

2.  **ç™»å½• Spaceship**:
    *   è¿›å…¥ **Launchpad** -> **Domain List**ã€‚
    *   æ‰¾åˆ°æ‚¨çš„åŸŸåï¼Œç‚¹å‡» **Manage**ã€‚
    *   è¿›å…¥ **Advanced DNS** é€‰é¡¹å¡ã€‚

3.  **æ·»åŠ è®°å½• (å…³é”®æ­¥éª¤)**:
    *   ç‚¹å‡» **Add New Record**ã€‚
    *   **é‡è¦è§„åˆ™**: Spaceship çš„ Host æ åªéœ€è¦å¡«**å‰ç¼€**ã€‚
    
    | Resend æ˜¾ç¤ºçš„ Name | Record Type | Spaceship ä¸­ Host å¡«ä»€ä¹ˆ | Value |
    | :--- | :--- | :--- | :--- |
    | `mail.example.com` | MX | `mail` | (å¡« Resend ç»™çš„å€¼) |
    | `mail.example.com` | TXT (SPF) | `mail` | (å¡« Resend ç»™çš„å€¼) |
    | `bounces.mail.example.com` | MX | `bounces.mail` | (å¡« Resend ç»™çš„å€¼) |
    | `resend._domainkey.mail...` | TXT (DKIM) | `resend._domainkey.mail` | (å¡« Resend ç»™çš„å€¼) |

    *   *æ³¨æ„ï¼šå¦‚æœ Resend ç»™å‡ºçš„ Name æ˜¯ `example.com` (æ²¡æœ‰å‰ç¼€)ï¼Œåˆ™ Spaceship çš„ Host å¡« `@`ã€‚*

4.  **ä¿å­˜å¹¶éªŒè¯**:
    *   æ·»åŠ å®Œæ‰€æœ‰è®°å½•åï¼Œå›åˆ° Resend ç‚¹å‡» **Verify**ã€‚
    *   ç”Ÿæ•ˆæ—¶é—´é€šå¸¸åœ¨ 5 åˆ†é’Ÿåˆ° 1 å°æ—¶ä¹‹é—´ã€‚

## ç¬¬ä¸‰æ­¥ï¼šåœ¨ Supabase ä¸­é…ç½® SMTP

1.  ç™»å½• [Supabase Dashboard](https://supabase.com/dashboard)ã€‚
2.  è¿›å…¥æ‚¨çš„é¡¹ç›®ã€‚
3.  ç‚¹å‡»å·¦ä¸‹è§’çš„ âš™ï¸ **Project Settings**ã€‚
4.  ç‚¹å‡»ä¾§è¾¹æ çš„ **Auth**ã€‚
5.  å‘ä¸‹æ»šåŠ¨æ‰¾åˆ° **SMTP Settings** éƒ¨åˆ†ã€‚
6.  å¼€å¯ **Enable Custom SMTP** å¼€å…³ã€‚

è¯·æŒ‰ä»¥ä¸‹è¡¨æ ¼å¡«å†™ä¿¡æ¯ï¼š

| è®¾ç½®é¡¹ | å¡«å†™å†…å®¹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **Sender Email** | `noreply@mail.yourdomain.com` | **å¿…é¡»**æ˜¯æ‚¨åœ¨ Resend éªŒè¯è¿‡çš„åŸŸååç¼€ã€‚<br>å¦‚æœæ˜¯æµ‹è¯•æ¨¡å¼ï¼Œå¡«å†™ `onboarding@resend.dev` |
| **Sender Name** | `WIO Tracker` | ç”¨æˆ·æ”¶åˆ°é‚®ä»¶æ—¶æ˜¾ç¤ºçš„å‘ä»¶äººåç§° |
| **Host** | `smtp.resend.com` | Resend çš„ SMTP æœåŠ¡å™¨åœ°å€ |
| **Port** | `465` | SSL åŠ å¯†ç«¯å£ |
| **Username** | `resend` | å›ºå®šå¡« `resend` |
| **Password** | `re_123456...` | **ç¬¬ä¸€æ­¥ä¸­å¤åˆ¶çš„ Resend API Key** |
| **Minimum interval** | `60` | é»˜è®¤å³å¯ (é˜²æ­¢æ»¥ç”¨) |

7.  ç‚¹å‡» **Save** ä¿å­˜é…ç½®ã€‚

## ç¬¬å››æ­¥ï¼šéªŒè¯é…ç½®

1.  å›åˆ°æ‚¨çš„ WIO Tracker åº”ç”¨ã€‚
2.  å°è¯•æ³¨å†Œä¸€ä¸ªæ–°è´¦å·ï¼ˆä½¿ç”¨ä¸€ä¸ªçœŸå®çš„é‚®ç®±ï¼‰ã€‚
3.  æ£€æŸ¥è¯¥é‚®ç®±æ˜¯å¦æ”¶åˆ°éªŒè¯é‚®ä»¶ã€‚
4.  åŒæ—¶ï¼Œæ‚¨å¯ä»¥ç™»å½• Resend Dashboardï¼Œç‚¹å‡»å·¦ä¾§ **Emails**ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰é‚®ä»¶å‘é€è®°å½•ã€‚
    *   å¦‚æœçŠ¶æ€æ˜¯ `Delivered`ï¼Œè¯´æ˜å‘é€æˆåŠŸã€‚
    *   å¦‚æœçŠ¶æ€æ˜¯ `Bounced` æˆ– `Complained`ï¼Œè¯´æ˜æœ‰é—®é¢˜ã€‚

## å¸¸è§é—®é¢˜

*   **Q: æˆ‘æ²¡æœ‰åŸŸåæ€ä¹ˆåŠï¼Ÿ**
    *   A: æ‚¨å¯ä»¥ä½¿ç”¨ Resend çš„æµ‹è¯•åŸŸå `onboarding@resend.dev` ä½œä¸º Sender Emailã€‚**ä½†æ˜¯**ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ‚¨åªèƒ½å‘é€é‚®ä»¶ç»™**æ‚¨æ³¨å†Œ Resend æ—¶ä½¿ç”¨çš„é‚£ä¸ªé‚®ç®±**ã€‚è¿™ä»…é™äºå¼€å‘è°ƒè¯•ã€‚è¦ä¸Šçº¿äº§å“ï¼Œå¿…é¡»è´­ä¹°å¹¶é…ç½®åŸŸåã€‚

*   **Q: é…ç½®äº† SMTP è¿˜æ˜¯æ”¶ä¸åˆ°ï¼Ÿ**
    *   A: æ£€æŸ¥ Supabase çš„ **Auth** -> **Rate Limits**ï¼Œç¡®ä¿æ²¡æœ‰å› ä¸ºæµ‹è¯•è¿‡äºé¢‘ç¹è¢«é™æµã€‚æ£€æŸ¥ Resend åå°çš„ Logs æ˜¯å¦æœ‰æŠ¥é”™ä¿¡æ¯ã€‚
